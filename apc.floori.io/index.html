<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>CrownCrete</title>
    <base href="">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link rel="icon" type="image/x-icon" href="favicon.ico">
    <link rel="manifest" href="manifest.webmanifest">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="">
    <meta name="theme-color" content="#1976d2">
    <style></style>
    <link rel="stylesheet" href="styles.32d73f460d1f6db8.css" media="print" onload="this.media='all'">
    <noscript>
        <link rel="stylesheet" href="styles.32d73f460d1f6db8.css">
    </noscript>
    <link rel="stylesheet" href="CrownCrete.fonts.24bdb382e59c2f57.css" media="print" onload="this.media='all'">
    <noscript>
        <link rel="stylesheet" href="CrownCrete.fonts.24bdb382e59c2f57.css">
    </noscript>
    <script src="main.9fc52bfcb194c529.js" type="module" defer></script>
    <script src="main.9fc52bfcb194c530.js" type="module" defer></script>
    <script src="main.9fc52bfcb194c531.js" type="module" defer></script>
    <script src="main.9fc52bfcb194c532.js" type="module" defer></script>
</head>
<body>
    <CrownCrete-root></CrownCrete-root>
    <noscript>Enable JavaScript</noscript>

    <!-- Override fetch to transform URLs -->
    <script>
        (function() {
            const originalFetch = window.fetch;
            window.fetch = async function(input, init) {
                let url = typeof input === 'string' ? input : input.url;

                // Transform URLs that start with the API base URL
                if (url.startsWith('https://api.server.floori.io/new-floori')) {
                    url = url.replace('https://api.server.floori.io/new-floori', 'https://atootikhos.github.io/atootikhos3/apc.floori.io');
                    console.log('Transformed URL:', url);

                    if (typeof input === 'string') {
                        input = url;
                    } else {
                        input = new Request(url, input);
                    }
                }

                return originalFetch(input, init).then(response => {
                    // Modify the response if needed
                    if (response.ok && response.url.startsWith('https://atootikhos.github.io/atootikhos3/apc.floori.io')) {
                        return response.json().then(data => {
                            // Modify the response data if needed
                            const modifiedData = {
                                ...data,
                                dummyUrl: url
                            };

                            return new Response(JSON.stringify(modifiedData), {
                                status: response.status,
                                statusText: response.statusText,
                                headers: response.headers
                            });
                        });
                    }

                    return response;
                });
            };
        })();
    </script>
</body>
</html>
